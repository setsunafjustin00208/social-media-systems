var login={elements:{emailInput:"#email-address",passwordInput:"#password",loginButton:"#login-button",errorMessage:"#error-message",rememberMeCheckbox:"#remember-me"},processes:{loginProcess:function(){var o=login,e=$(o.elements.emailInput).val(),s=$(o.elements.passwordInput).val(),r=$(o.elements.rememberMeCheckbox).is(":checked"),t=base_url+"account/login-account";$.ajax({url:t,type:"POST",data:{email:e,password:s,rememberMe:r},success:function(e){console.log("Login successful:",e),o.processes.rememberMe(e.userData.email,e.userData.password),$(o.elements.errorMessage).hasClass("is-danger")&&$(o.elements.errorMessage).removeClass("is-danger"),$(o.elements.errorMessage).addClass("is-success"),$(o.elements.errorMessage).text(e.message),setTimeout(function(){window.location.href=base_url+"roleplay/home"},1e3)},error:function(e,s,r){e=(e.responseJSON||{}).message||"Login failed. Please try again.";$(o.elements.errorMessage).hasClass("is-success")&&$(o.elements.errorMessage).removeClass("is-success"),$(o.elements.errorMessage).addClass("is-danger"),$(o.elements.errorMessage).text(e)}})},rememberMe:function(e,s){var r=$(login.elements.rememberMeCheckbox).is(":checked");r?(localStorage.setItem("rememberedEmail",e),localStorage.setItem("rememberedPassword",s),localStorage.setItem("rememberMe",r)):(localStorage.removeItem("rememberedEmail"),localStorage.removeItem("rememberedPassword"),localStorage.removeItem("rememberMe"))}},onload:{getRememberedCredentials:function(){var e=login,s=localStorage.getItem("rememberedEmail"),r=localStorage.getItem("rememberedPassword");s&&$(e.elements.emailInput).val(s),r&&$(e.elements.passwordInput).val(r),"true"===localStorage.getItem("rememberMe")?$(e.elements.rememberMeCheckbox).prop("checked",!0):$(e.elements.rememberMeCheckbox).prop("checked",!1)}},events:{onLoginButtonClick:function(){var s=login,e=s.elements.loginButton;$(e).on("click",function(e){e.preventDefault(),s.processes.loginProcess()})},init:function(){login.events.onLoginButtonClick()}},init:function(){var e=login;e.events.init(),e.onload.getRememberedCredentials()}};document.addEventListener("DOMContentLoaded",function(){login.init()});
//# sourceMappingURL=login.js.map
